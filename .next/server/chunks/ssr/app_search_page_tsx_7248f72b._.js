module.exports=[8266,a=>{"use strict";var b=a.i(17188),c=a.i(68407),d=a.i(70935),e=a.i(5522),f=a.i(21958),g=a.i(3130),h=a.i(7706),i=a.i(54161),j=a.i(40695),k=a.i(7085),l=a.i(3803),m=a.i(96116),n=a.i(70854),o=a.i(85102),p=a.i(55610);let q=(0,a.i(61237).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var r=a.i(19113),s=a.i(36915),t=a.i(77577),u=a.i(76504);function v(){let a=(0,d.useSearchParams)(),h=a.get("q")||"",v=a.get("tab")||"all",[A,B]=(0,c.useState)(h),[C,D]=(0,c.useState)(v),[E,F]=(0,c.useState)({species:[],location:"",breed:"",category:[]}),[G,H]=(0,c.useState)({users:[],pets:[],blogs:[],wiki:[],hashtags:[]});(0,c.useEffect)(()=>{if(!A.trim()&&0===E.species.length&&!E.location&&!E.breed&&0===E.category.length)return void H({users:[],pets:[],blogs:[],wiki:[],hashtags:[]});let a=A.toLowerCase(),b=(0,t.getUsers)().filter(b=>b.username.toLowerCase().includes(a)||b.fullName.toLowerCase().includes(a)||b.bio?.toLowerCase().includes(a));E.location&&(b=b.filter(a=>a.location?.toLowerCase().includes(E.location.toLowerCase())));let c=(0,t.getPets)().filter(b=>b.name.toLowerCase().includes(a)||b.species.toLowerCase().includes(a)||b.breed?.toLowerCase().includes(a)||b.bio?.toLowerCase().includes(a));E.species.length>0&&(c=c.filter(a=>E.species.includes(a.species))),E.breed&&(c=c.filter(a=>a.breed?.toLowerCase().includes(E.breed.toLowerCase())));let d=(0,t.getBlogPosts)().filter(b=>b.title.toLowerCase().includes(a)||b.content.toLowerCase().includes(a)||b.tags.some(b=>b.toLowerCase().includes(a))||b.hashtags?.some(b=>b.toLowerCase().includes(a))),e=(0,t.getWikiArticles)().filter(b=>b.title.toLowerCase().includes(a)||b.content.toLowerCase().includes(a)||b.category.toLowerCase().includes(a));E.category.length>0&&(e=e.filter(a=>E.category.includes(a.category)));let f=new Set;(0,t.getBlogPosts)().forEach(b=>{b.hashtags?.forEach(b=>{b.toLowerCase().includes(a)&&f.add(b)})}),H({users:b,pets:c,blogs:d,wiki:e,hashtags:Array.from(f)})},[A,E]);let I=a=>{F(b=>({...b,species:b.species.includes(a)?b.species.filter(b=>b!==a):[...b.species,a]}))},J=a=>{F(b=>({...b,category:b.category.includes(a)?b.category.filter(b=>b!==a):[...b.category,a]}))},K=E.species.length>0||E.location||E.breed||E.category.length>0,L=G.users.length+G.pets.length+G.blogs.length+G.wiki.length+G.hashtags.length;return(0,b.jsxs)("div",{className:"container max-w-6xl py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Search & Discover"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,b.jsx)(e.Input,{type:"search",placeholder:"Search for users, pets, blogs, wiki articles, or hashtags...",value:A,onChange:a=>B(a.target.value),className:"pl-10 h-12 text-lg"})]}),(0,b.jsxs)(u.DropdownMenu,{children:[(0,b.jsx)(u.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(j.Button,{variant:"outline",size:"lg",className:"gap-2 bg-transparent",children:[(0,b.jsx)(q,{className:"h-4 w-4"}),"Filters",K&&(0,b.jsx)(i.Badge,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:E.species.length+E.category.length+ +!!E.location+ +!!E.breed})]})}),(0,b.jsxs)(u.DropdownMenuContent,{align:"end",className:"w-64",children:[(0,b.jsx)(u.DropdownMenuLabel,{children:"Pet Species"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.species.includes("dog"),onCheckedChange:()=>I("dog"),children:"Dogs"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.species.includes("cat"),onCheckedChange:()=>I("cat"),children:"Cats"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.species.includes("bird"),onCheckedChange:()=>I("bird"),children:"Birds"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.species.includes("rabbit"),onCheckedChange:()=>I("rabbit"),children:"Rabbits"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.species.includes("hamster"),onCheckedChange:()=>I("hamster"),children:"Hamsters"}),(0,b.jsx)(u.DropdownMenuSeparator,{}),(0,b.jsx)(u.DropdownMenuLabel,{children:"Wiki Categories"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.category.includes("care"),onCheckedChange:()=>J("care"),children:"Care"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.category.includes("health"),onCheckedChange:()=>J("health"),children:"Health"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.category.includes("training"),onCheckedChange:()=>J("training"),children:"Training"}),(0,b.jsx)(u.DropdownMenuCheckboxItem,{checked:E.category.includes("nutrition"),onCheckedChange:()=>J("nutrition"),children:"Nutrition"}),(0,b.jsx)(u.DropdownMenuSeparator,{}),(0,b.jsx)("div",{className:"p-2",children:(0,b.jsx)(e.Input,{placeholder:"Location...",value:E.location,onChange:a=>F({...E,location:a.target.value}),className:"h-8"})}),(0,b.jsx)("div",{className:"p-2",children:(0,b.jsx)(e.Input,{placeholder:"Breed...",value:E.breed,onChange:a=>F({...E,breed:a.target.value}),className:"h-8"})}),K&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.DropdownMenuSeparator,{}),(0,b.jsx)("div",{className:"p-2",children:(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{F({species:[],location:"",breed:"",category:[]})},className:"w-full",children:"Clear All Filters"})})]})]})]})]}),K&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[E.species.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[a,(0,b.jsx)("button",{onClick:()=>I(a),className:"ml-1 hover:text-destructive",children:"×"})]},a)),E.category.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[a,(0,b.jsx)("button",{onClick:()=>J(a),className:"ml-1 hover:text-destructive",children:"×"})]},a)),E.location&&(0,b.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(r.MapPin,{className:"h-3 w-3"}),E.location,(0,b.jsx)("button",{onClick:()=>F({...E,location:""}),className:"ml-1 hover:text-destructive",children:"×"})]}),E.breed&&(0,b.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[E.breed,(0,b.jsx)("button",{onClick:()=>F({...E,breed:""}),className:"ml-1 hover:text-destructive",children:"×"})]})]}),A&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Found ",L," result",1!==L?"s":"",' for "',A,'"']})]}),(0,b.jsxs)(f.Tabs,{value:C,onValueChange:D,children:[(0,b.jsxs)(f.TabsList,{className:"grid w-full grid-cols-6",children:[(0,b.jsxs)(f.TabsTrigger,{value:"all",children:["All (",L,")"]}),(0,b.jsxs)(f.TabsTrigger,{value:"users",children:[(0,b.jsx)(l.User,{className:"h-4 w-4 mr-1"}),"Users (",G.users.length,")"]}),(0,b.jsxs)(f.TabsTrigger,{value:"pets",children:[(0,b.jsx)(m.PawPrint,{className:"h-4 w-4 mr-1"}),"Pets (",G.pets.length,")"]}),(0,b.jsxs)(f.TabsTrigger,{value:"blogs",children:[(0,b.jsx)(n.FileText,{className:"h-4 w-4 mr-1"}),"Blogs (",G.blogs.length,")"]}),(0,b.jsxs)(f.TabsTrigger,{value:"wiki",children:[(0,b.jsx)(o.BookOpen,{className:"h-4 w-4 mr-1"}),"Wiki (",G.wiki.length,")"]}),(0,b.jsxs)(f.TabsTrigger,{value:"hashtags",children:[(0,b.jsx)(p.Hash,{className:"h-4 w-4 mr-1"}),"Tags (",G.hashtags.length,")"]})]}),(0,b.jsx)(f.TabsContent,{value:"all",className:"space-y-6 mt-6",children:A?0===L?(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-12 text-center",children:(0,b.jsxs)("p",{className:"text-muted-foreground",children:['No results found for "',A,'"']})})}):(0,b.jsxs)(b.Fragment,{children:[G.users.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Users"}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:G.users.slice(0,4).map(a=>(0,b.jsx)(w,{user:a},a.id))})]}),G.pets.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Pets"}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:G.pets.slice(0,4).map(a=>(0,b.jsx)(x,{pet:a},a.id))})]}),G.blogs.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Blog Posts"}),(0,b.jsx)("div",{className:"space-y-4",children:G.blogs.slice(0,4).map(a=>(0,b.jsx)(y,{post:a},a.id))})]}),G.wiki.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Wiki Articles"}),(0,b.jsx)("div",{className:"space-y-4",children:G.wiki.slice(0,4).map(a=>(0,b.jsx)(z,{article:a},a.id))})]}),G.hashtags.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Hashtags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:G.hashtags.slice(0,10).map(a=>(0,b.jsx)(s.default,{href:`/explore/hashtag/${a}`,children:(0,b.jsxs)(i.Badge,{variant:"secondary",className:"text-sm px-3 py-1 cursor-pointer hover:bg-primary hover:text-primary-foreground",children:["#",a]})},a))})]})]}):(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(k.Search,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Start typing to search across the platform"})]})})}),(0,b.jsx)(f.TabsContent,{value:"users",className:"mt-6",children:0===G.users.length?(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No users found"})})}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:G.users.map(a=>(0,b.jsx)(w,{user:a},a.id))})}),(0,b.jsx)(f.TabsContent,{value:"pets",className:"mt-6",children:0===G.pets.length?(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No pets found"})})}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:G.pets.map(a=>(0,b.jsx)(x,{pet:a},a.id))})}),(0,b.jsx)(f.TabsContent,{value:"blogs",className:"mt-6",children:0===G.blogs.length?(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No blog posts found"})})}):(0,b.jsx)("div",{className:"space-y-4",children:G.blogs.map(a=>(0,b.jsx)(y,{post:a},a.id))})}),(0,b.jsx)(f.TabsContent,{value:"wiki",className:"mt-6",children:0===G.wiki.length?(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No wiki articles found"})})}):(0,b.jsx)("div",{className:"space-y-4",children:G.wiki.map(a=>(0,b.jsx)(z,{article:a},a.id))})}),(0,b.jsx)(f.TabsContent,{value:"hashtags",className:"mt-6",children:0===G.hashtags.length?(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No hashtags found"})})}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:G.hashtags.map(a=>(0,b.jsx)(s.default,{href:`/explore/hashtag/${a}`,children:(0,b.jsxs)(i.Badge,{variant:"secondary",className:"text-base px-4 py-2 cursor-pointer hover:bg-primary hover:text-primary-foreground",children:["#",a]})},a))})})]})]})}function w({user:a}){return(0,b.jsx)(s.default,{href:`/user/${a.username}`,children:(0,b.jsx)(g.Card,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(h.Avatar,{className:"h-12 w-12",children:[(0,b.jsx)(h.AvatarImage,{src:a.avatar||"/placeholder.svg"}),(0,b.jsx)(h.AvatarFallback,{children:a.fullName.charAt(0)})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold truncate",children:a.fullName}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:["@",a.username]}),a.bio&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1 mt-1",children:a.bio})]})]})})})})}function x({pet:a}){return(0,b.jsx)(s.default,{href:`/pet/${a.id}`,children:(0,b.jsx)(g.Card,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(h.Avatar,{className:"h-12 w-12",children:[(0,b.jsx)(h.AvatarImage,{src:a.avatar||"/placeholder.svg"}),(0,b.jsx)(h.AvatarFallback,{children:a.name.charAt(0)})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold truncate",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:a.breed||a.species}),a.bio&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1 mt-1",children:a.bio})]})]})})})})}function y({post:a}){return(0,b.jsx)(s.default,{href:`/blog/${a.id}`,children:(0,b.jsx)(g.Card,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:(0,b.jsxs)(g.CardContent,{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:a.content}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[a.tags.slice(0,3).map(a=>(0,b.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:a},a)),a.hashtags?.slice(0,3).map(a=>(0,b.jsxs)(i.Badge,{variant:"outline",className:"text-xs",children:["#",a]},a))]})]})})})}function z({article:a}){return(0,b.jsx)(s.default,{href:`/wiki/${a.slug}`,children:(0,b.jsx)(g.Card,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(o.BookOpen,{className:"h-5 w-5 text-muted-foreground mt-1"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg mb-1",children:a.title}),(0,b.jsx)(i.Badge,{variant:"secondary",className:"text-xs mb-2 capitalize",children:a.category}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.content})]})]})})})})}a.s(["default",()=>v],8266)}];

//# sourceMappingURL=app_search_page_tsx_7248f72b._.js.map