module.exports=[3130,a=>{"use strict";var b=a.i(17188),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},96826,a=>{"use strict";let b=(0,a.i(61237).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],96826)},47914,a=>{"use strict";var b=a.i(17188),c=a.i(68407),d=a.i(70935);a.i(85182);var e=a.i(47033),f=a.i(3130),g=a.i(40695),h=a.i(49118),i=a.i(71074),j=a.i(96826),k=a.i(2215),k=k,l=a.i(67301);function m(){let{user:a}=(0,e.useAuth)(),m=(0,d.useRouter)(),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)("all");(0,c.useEffect)(()=>{a?r():m.push("/")},[a,m]);let r=()=>{a&&o((0,h.getNotificationsByUserId)(a.id))},s="unread"===p?n.filter(a=>!a.read):n;return a?(0,b.jsxs)("div",{className:"container max-w-4xl py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Notifications"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Stay updated with your activity"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{variant:"all"===p?"default":"outline",size:"sm",onClick:()=>q("all"),children:"All"}),(0,b.jsxs)(g.Button,{variant:"unread"===p?"default":"outline",size:"sm",onClick:()=>q("unread"),children:["Unread (",n.filter(a=>!a.read).length,")"]})]}),n.some(a=>!a.read)&&(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{a&&((0,h.markAllAsRead)(a.id),r())},children:[(0,b.jsx)(k.default,{className:"h-4 w-4 mr-2"}),"Mark all as read"]})]}),0===s.length?(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(i.Bell,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"unread"===p?"No unread notifications":"No notifications yet"})]})}):(0,b.jsx)("div",{className:"space-y-2",children:s.map(a=>(0,b.jsx)(f.Card,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${!a.read?"border-primary/50 bg-muted/30":""}`,children:(0,b.jsx)(f.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",onClick:()=>{a.read||(0,h.markAsRead)(a.id),"post"===a.targetType?m.push(`/blog/${a.targetId}`):"user"===a.targetType?m.push(`/user/${a.actorId}`):"wiki"===a.targetType&&m.push(`/wiki/${a.targetId}`)},children:[(0,b.jsx)("p",{className:"text-sm mb-1",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,l.formatDistanceToNow)(new Date(a.createdAt),{addSuffix:!0})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[!a.read&&(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void((0,h.markAsRead)(b),r())},title:"Mark as read",children:(0,b.jsx)(k.default,{className:"h-4 w-4"})}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void((0,h.deleteNotification)(b),r())},title:"Delete",children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4"})})]})]})})},a.id))})]}):null}a.s(["default",()=>m],47914)}];

//# sourceMappingURL=_91231bbc._.js.map