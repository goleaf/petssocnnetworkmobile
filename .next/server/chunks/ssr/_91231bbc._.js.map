{"version":3,"sources":["turbopack:///[project]/components/ui/card.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/src/icons/trash-2.ts","turbopack:///[project]/app/notifications/page.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/components/auth/auth-provider\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { getNotificationsByUserId, markAsRead, markAllAsRead, deleteNotification } from \"@/lib/notifications\"\nimport type { Notification } from \"@/lib/types\"\nimport { Bell, Trash2, Check } from \"lucide-react\"\nimport { formatDistanceToNow } from \"date-fns\"\n\nexport default function NotificationsPage() {\n  const { user } = useAuth()\n  const router = useRouter()\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [filter, setFilter] = useState<\"all\" | \"unread\">(\"all\")\n\n  useEffect(() => {\n    if (!user) {\n      router.push(\"/\")\n      return\n    }\n    loadNotifications()\n  }, [user, router])\n\n  const loadNotifications = () => {\n    if (!user) return\n    const userNotifications = getNotificationsByUserId(user.id)\n    setNotifications(userNotifications)\n  }\n\n  const handleMarkAsRead = (id: string) => {\n    markAsRead(id)\n    loadNotifications()\n  }\n\n  const handleMarkAllRead = () => {\n    if (!user) return\n    markAllAsRead(user.id)\n    loadNotifications()\n  }\n\n  const handleDelete = (id: string) => {\n    deleteNotification(id)\n    loadNotifications()\n  }\n\n  const handleNotificationClick = (notification: Notification) => {\n    if (!notification.read) {\n      markAsRead(notification.id)\n    }\n\n    if (notification.targetType === \"post\") {\n      router.push(`/blog/${notification.targetId}`)\n    } else if (notification.targetType === \"user\") {\n      router.push(`/user/${notification.actorId}`)\n    } else if (notification.targetType === \"wiki\") {\n      router.push(`/wiki/${notification.targetId}`)\n    }\n  }\n\n  const filteredNotifications = filter === \"unread\" ? notifications.filter((n) => !n.read) : notifications\n\n  if (!user) return null\n\n  return (\n    <div className=\"container max-w-4xl py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold\">Notifications</h1>\n        <p className=\"text-muted-foreground mt-2\">Stay updated with your activity</p>\n      </div>\n\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex gap-2\">\n          <Button variant={filter === \"all\" ? \"default\" : \"outline\"} size=\"sm\" onClick={() => setFilter(\"all\")}>\n            All\n          </Button>\n          <Button variant={filter === \"unread\" ? \"default\" : \"outline\"} size=\"sm\" onClick={() => setFilter(\"unread\")}>\n            Unread ({notifications.filter((n) => !n.read).length})\n          </Button>\n        </div>\n        {notifications.some((n) => !n.read) && (\n          <Button variant=\"outline\" size=\"sm\" onClick={handleMarkAllRead}>\n            <Check className=\"h-4 w-4 mr-2\" />\n            Mark all as read\n          </Button>\n        )}\n      </div>\n\n      {filteredNotifications.length === 0 ? (\n        <Card>\n          <CardContent className=\"p-12 text-center\">\n            <Bell className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n            <p className=\"text-muted-foreground\">\n              {filter === \"unread\" ? \"No unread notifications\" : \"No notifications yet\"}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-2\">\n          {filteredNotifications.map((notification) => (\n            <Card\n              key={notification.id}\n              className={`cursor-pointer transition-colors hover:bg-muted/50 ${\n                !notification.read ? \"border-primary/50 bg-muted/30\" : \"\"\n              }`}\n            >\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div className=\"flex-1\" onClick={() => handleNotificationClick(notification)}>\n                    <p className=\"text-sm mb-1\">{notification.message}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {formatDistanceToNow(new Date(notification.createdAt), { addSuffix: true })}\n                    </p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    {!notification.read && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => handleMarkAsRead(notification.id)}\n                        title=\"Mark as read\"\n                      >\n                        <Check className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => handleDelete(notification.id)} title=\"Delete\">\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[1]}